# ================================================
# Makefile - Etapa 1 (versão OpenMP)
# ================================================

# Nome dos arquivos
SRC = e1.c
OUT = e1
DATA = dados.csv
CENTROIDS = centroides_iniciais.csv
ASSIGN = assign.csv
FINAL_CENTROIDS = centroids.csv

# Compilador e flags
CC = gcc
CFLAGS = -O2 -fopenmp -std=c99 -lm

# Alvo padrão
all: $(OUT)

# Compilação
$(OUT): $(SRC)
	$(CC) -O2 -fopenmp -std=c99 $(SRC) -o $(OUT) -lm

# Execução
run: $(OUT)
	./$(OUT) $(DATA) $(CENTROIDS) 50 0.0001 $(ASSIGN) $(FINAL_CENTROIDS)

# Limpeza
clean:
	rm -f $(OUT) $(ASSIGN) $(FINAL_CENTROIDS)

.PHONY: all run clean
